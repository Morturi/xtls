"use strict";(self.webpackChunkXray_docs_next=self.webpackChunkXray_docs_next||[]).push([[6416],{82423:(e,l,r)=>{r.r(l),r.d(l,{data:()=>n});const n={key:"v-fb774212",path:"/en/development/intro/design.html",title:"设计目标",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"架构",slug:"架构",children:[{level:3,title:"应用层",slug:"应用层",children:[]},{level:3,title:"代理层",slug:"代理层",children:[]},{level:3,title:"传输层",slug:"传输层",children:[]}]}],filePathRelative:"en/development/intro/design.md",git:{updatedTime:1622027153e3,contributors:[{name:"hmol233",email:"82594500+hmol233@users.noreply.github.com",commits:1}]}}},61719:(e,l,r)=>{r.r(l),r.d(l,{default:()=>A});var n=r(66252),a=r(10106);const t=(0,n._)("h1",{id:"设计目标",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#设计目标","aria-hidden":"true"},"#"),(0,n.Uk)(" 设计目标")],-1),i=(0,n._)("ul",null,[(0,n._)("li",null,"Xray 内核提供了一个平台，支持必要的网络代理功能，在其之上可以进二次开发，以提供更好的用户体验；"),(0,n._)("li",null,"以跨平台为首要原则，以减少二次开发的成本；")],-1),u=(0,n._)("h2",{id:"架构",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#架构","aria-hidden":"true"},"#"),(0,n.Uk)(" 架构")],-1),d=(0,n._)("p",null,[(0,n._)("img",{src:a,alt:"Architecture"})],-1),o=(0,n._)("p",null,"内核分为三层：应用层、代理层和传输层。",-1),h=(0,n._)("p",null,"每一层内包含数个模块，模块间互相独立，同类型的模块可无缝替换。",-1),s=(0,n._)("h3",{id:"应用层",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#应用层","aria-hidden":"true"},"#"),(0,n.Uk)(" 应用层")],-1),_=(0,n._)("p",null,"应用层包含一些代理层中常用的功能，这些功能被抽象出来，以便在不同的代理模块中复用。",-1),c=(0,n._)("p",null,"应用层的模块应为纯软件实现，与硬件或平台相关的技术无关。",-1),p=(0,n._)("p",null,"重要模块列表：",-1),b=(0,n._)("li",null,"Dispatcher: 用于把入站代理所接收到的数据，传送给出站代理；",-1),k=(0,n.Uk)("Router: 路由模块，详见 "),m=(0,n.Uk)("路由配置"),f=(0,n.Uk)("；"),g=(0,n._)("li",null,"DNS: 内置的 DNS 服务器模块；",-1),x=(0,n._)("li",null,"Proxy Manager: 代理管理器；",-1),U=(0,n._)("h3",{id:"代理层",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#代理层","aria-hidden":"true"},"#"),(0,n.Uk)(" 代理层")],-1),y=(0,n._)("p",null,"代理层分为两部分：入站代理（Inbound Proxy）和出站代理（Outbound Proxy）。",-1),v=(0,n._)("p",null,"两部分相互独立，入站代理不依赖于某个特定的出站代理，反之亦然。",-1),w=(0,n._)("h4",{id:"入站代理",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#入站代理","aria-hidden":"true"},"#"),(0,n.Uk)(" 入站代理")],-1),X=(0,n.Uk)("实现 "),D={href:"https://github.com/xtls/Xray-core/blob/main/proxy/proxy.go",target:"_blank",rel:"noopener noreferrer"},P=(0,n.Uk)("proxy.Inbound"),O=(0,n.Uk)(" 接口；"),R=(0,n._)("h4",{id:"出站代理",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#出站代理","aria-hidden":"true"},"#"),(0,n.Uk)(" 出站代理")],-1),S=(0,n.Uk)("实现 "),W={href:"https://github.com/xtls/Xray-core/blob/main/proxy/proxy.go",target:"_blank",rel:"noopener noreferrer"},C=(0,n.Uk)("proxy.Outbound"),I=(0,n.Uk)(" 接口；"),L=(0,n._)("h3",{id:"传输层",tabindex:"-1"},[(0,n._)("a",{class:"header-anchor",href:"#传输层","aria-hidden":"true"},"#"),(0,n.Uk)(" 传输层")],-1),N=(0,n._)("p",null,"传输层提供一些网络数据传输相关的工具模块。",-1),A={render:function(e,l){const r=(0,n.up)("RouterLink"),a=(0,n.up)("OutboundLink");return(0,n.wg)(),(0,n.iD)(n.HY,null,[t,i,u,d,o,h,s,_,c,p,(0,n._)("ul",null,[b,(0,n._)("li",null,[k,(0,n.Wm)(r,{to:"/en/config/routing.html"},{default:(0,n.w5)((()=>[m])),_:1}),f]),g,x]),U,y,v,w,(0,n._)("ul",null,[(0,n._)("li",null,[X,(0,n._)("a",D,[P,(0,n.Wm)(a)]),O])]),R,(0,n._)("ul",null,[(0,n._)("li",null,[S,(0,n._)("a",W,[C,(0,n.Wm)(a)]),I])]),L,N],64)}}},10106:(e,l,r)=>{e.exports=r.p+"assets/img/framework.c9d5f6bd.png"}}]);