<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.2">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/logo.png"><title>mKCP | Project X</title><meta name="description" content="Official document of Xray">
    <link rel="preload" href="/assets/style-DPNvLHrM.css" as="style"><link rel="stylesheet" href="/assets/style-DPNvLHrM.css">
    <link rel="modulepreload" href="/assets/app-Br3Hgc3R.js"><link rel="modulepreload" href="/assets/mkcp.html-CO-Wg07B.js"><link rel="modulepreload" href="/assets/mkcp.html-CBzV2ovC.js">
    <link rel="prefetch" href="/assets/index.html-m8wqXAv9.js" as="script"><link rel="prefetch" href="/assets/news.html-SJWqnVGx.js" as="script"><link rel="prefetch" href="/assets/index.html-B6AQpqSw.js" as="script"><link rel="prefetch" href="/assets/index.html-22Rd8QJz.js" as="script"><link rel="prefetch" href="/assets/api.html-B-8DWOSp.js" as="script"><link rel="prefetch" href="/assets/dns.html-D1nI7gN1.js" as="script"><link rel="prefetch" href="/assets/fakedns.html-D5vSCrrF.js" as="script"><link rel="prefetch" href="/assets/inbound.html-CKujSFck.js" as="script"><link rel="prefetch" href="/assets/log.html-nkpkbX50.js" as="script"><link rel="prefetch" href="/assets/metrics.html-DM2_qP2U.js" as="script"><link rel="prefetch" href="/assets/observatory.html-BZOu7htE.js" as="script"><link rel="prefetch" href="/assets/outbound.html-C5EGh-U_.js" as="script"><link rel="prefetch" href="/assets/policy.html-BWIHJKAG.js" as="script"><link rel="prefetch" href="/assets/reverse.html-B_KCuTKa.js" as="script"><link rel="prefetch" href="/assets/routing.html-CbzoayW3.js" as="script"><link rel="prefetch" href="/assets/stats.html-BUpSYHS7.js" as="script"><link rel="prefetch" href="/assets/transport.html-uuTBviZa.js" as="script"><link rel="prefetch" href="/assets/index.html-CRuDo8A5.js" as="script"><link rel="prefetch" href="/assets/command.html-CG6YX03R.js" as="script"><link rel="prefetch" href="/assets/config.html-D4Kuea5R.js" as="script"><link rel="prefetch" href="/assets/document.html-D0ey7R_q.js" as="script"><link rel="prefetch" href="/assets/install.html-P0cozJXk.js" as="script"><link rel="prefetch" href="/assets/index.html-B9JGXJeX.js" as="script"><link rel="prefetch" href="/assets/compile.html-abc37ETx.js" as="script"><link rel="prefetch" href="/assets/design.html-BR1QK1fd.js" as="script"><link rel="prefetch" href="/assets/guide.html-BYoYMmLp.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-DAXtEUZe.js" as="script"><link rel="prefetch" href="/assets/muxcool.html-DD_gRy3x.js" as="script"><link rel="prefetch" href="/assets/vless.html-DTs50EuG.js" as="script"><link rel="prefetch" href="/assets/vmess.html-OnyGqP3d.js" as="script"><link rel="prefetch" href="/assets/browser_dialer.html-CeC_o0KP.js" as="script"><link rel="prefetch" href="/assets/env.html-Clu1ue7h.js" as="script"><link rel="prefetch" href="/assets/fallback.html-ClmjClh3.js" as="script"><link rel="prefetch" href="/assets/multiple.html-CMc9A45n.js" as="script"><link rel="prefetch" href="/assets/xtls.html-BbCjcuZX.js" as="script"><link rel="prefetch" href="/assets/dokodemo.html-D8m4AYTf.js" as="script"><link rel="prefetch" href="/assets/http.html-CpEcnwgZ.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-CfRHMaOc.js" as="script"><link rel="prefetch" href="/assets/socks.html-BO0IluOh.js" as="script"><link rel="prefetch" href="/assets/trojan.html-FEpR9SL8.js" as="script"><link rel="prefetch" href="/assets/vless.html-CyCYVTvB.js" as="script"><link rel="prefetch" href="/assets/vmess.html-BM1ew1uz.js" as="script"><link rel="prefetch" href="/assets/blackhole.html-KtAAV-um.js" as="script"><link rel="prefetch" href="/assets/dns.html-gPc6MG5h.js" as="script"><link rel="prefetch" href="/assets/freedom.html-DkDiIhe8.js" as="script"><link rel="prefetch" href="/assets/http.html-DbGX0zm6.js" as="script"><link rel="prefetch" href="/assets/loopback.html-BnKY1Av3.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-qWz2rAZ6.js" as="script"><link rel="prefetch" href="/assets/socks.html-nwtrAKAA.js" as="script"><link rel="prefetch" href="/assets/trojan.html-BrTofzu7.js" as="script"><link rel="prefetch" href="/assets/vless.html-CBXSIGcU.js" as="script"><link rel="prefetch" href="/assets/vmess.html-SVy2D9lF.js" as="script"><link rel="prefetch" href="/assets/wireguard.html-CI4gxSGr.js" as="script"><link rel="prefetch" href="/assets/domainsocket.html-DTAlkOct.js" as="script"><link rel="prefetch" href="/assets/grpc.html-iM0T25Sw.js" as="script"><link rel="prefetch" href="/assets/h2.html-B0Txth6K.js" as="script"><link rel="prefetch" href="/assets/httpupgrade.html-Dkrlb4L0.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-Cr1EISXH.js" as="script"><link rel="prefetch" href="/assets/quic.html-Dhv9XQ4X.js" as="script"><link rel="prefetch" href="/assets/splithttp.html-CUncQpEs.js" as="script"><link rel="prefetch" href="/assets/tcp.html-BoVVh23h.js" as="script"><link rel="prefetch" href="/assets/websocket.html--zUa0HXI.js" as="script"><link rel="prefetch" href="/assets/index.html-C8fIHmAn.js" as="script"><link rel="prefetch" href="/assets/ch01-preface.html-rfRfo1pR.js" as="script"><link rel="prefetch" href="/assets/ch02-preparation.html-DvXF-8SA.js" as="script"><link rel="prefetch" href="/assets/ch03-ssh.html-BvlVKbeD.js" as="script"><link rel="prefetch" href="/assets/ch04-security.html-CHwsgASX.js" as="script"><link rel="prefetch" href="/assets/ch05-webpage.html-pDWOS6YY.js" as="script"><link rel="prefetch" href="/assets/ch06-certificates.html-Du4sQcvu.js" as="script"><link rel="prefetch" href="/assets/ch07-xray-server.html-xTTB1lH8.js" as="script"><link rel="prefetch" href="/assets/ch08-xray-clients.html-BApQWSOM.js" as="script"><link rel="prefetch" href="/assets/ch09-appendix.html-dr2RPtHA.js" as="script"><link rel="prefetch" href="/assets/index.html-CsP68-S-.js" as="script"><link rel="prefetch" href="/assets/fallbacks-lv1.html-B25u27oB.js" as="script"><link rel="prefetch" href="/assets/fallbacks-with-sni.html-BQ5eRQKs.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part1.html-DFLyQGB-.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part2.html-KcLwjuJs.js" as="script"><link rel="prefetch" href="/assets/work.html-B6PCCNUR.js" as="script"><link rel="prefetch" href="/assets/index.html-BpTRa4da.js" as="script"><link rel="prefetch" href="/assets/iptables_gid.html-CpbWWWxB.js" as="script"><link rel="prefetch" href="/assets/nginx_or_haproxy_tls_tunnel.html-DE2NEO9r.js" as="script"><link rel="prefetch" href="/assets/redirect.html-B8TDYVio.js" as="script"><link rel="prefetch" href="/assets/tproxy.html-_2FU7TX2.js" as="script"><link rel="prefetch" href="/assets/tproxy_ipv4_and_ipv6.html-DmS2i352.js" as="script"><link rel="prefetch" href="/assets/traffic_stats.html-DznImNxF.js" as="script"><link rel="prefetch" href="/assets/warp.html-84-oVhFT.js" as="script"><link rel="prefetch" href="/assets/news.html-CCqcSlME.js" as="script"><link rel="prefetch" href="/assets/index.html-D4vYaGOb.js" as="script"><link rel="prefetch" href="/assets/api.html-F0--V6tR.js" as="script"><link rel="prefetch" href="/assets/dns.html-DMQH2FW8.js" as="script"><link rel="prefetch" href="/assets/fakedns.html-gzeF9f2R.js" as="script"><link rel="prefetch" href="/assets/inbound.html-CWNcnO5N.js" as="script"><link rel="prefetch" href="/assets/log.html-Chdca2qQ.js" as="script"><link rel="prefetch" href="/assets/metrics.html-lqx_2wv-.js" as="script"><link rel="prefetch" href="/assets/outbound.html-BlH9st2p.js" as="script"><link rel="prefetch" href="/assets/policy.html-BvmWh--h.js" as="script"><link rel="prefetch" href="/assets/reverse.html-BR8jY0x9.js" as="script"><link rel="prefetch" href="/assets/routing.html-XmhH1N4s.js" as="script"><link rel="prefetch" href="/assets/stats.html-B1JXWh5P.js" as="script"><link rel="prefetch" href="/assets/transport.html-D0XbWnq0.js" as="script"><link rel="prefetch" href="/assets/index.html-nDondlxp.js" as="script"><link rel="prefetch" href="/assets/index.html-DuECGUMk.js" as="script"><link rel="prefetch" href="/assets/command.html-DsgBYQYA.js" as="script"><link rel="prefetch" href="/assets/config.html-LKzaLdBX.js" as="script"><link rel="prefetch" href="/assets/document.html-ChV8RIvq.js" as="script"><link rel="prefetch" href="/assets/install.html-Djiu1fSW.js" as="script"><link rel="prefetch" href="/assets/transparent_proxy.html-CXINyDxN.js" as="script"><link rel="prefetch" href="/assets/browser_dialer.html-BPZi0Qii.js" as="script"><link rel="prefetch" href="/assets/env.html-DpWafrIN.js" as="script"><link rel="prefetch" href="/assets/fallback.html-BnZtUlEt.js" as="script"><link rel="prefetch" href="/assets/multiple.html-BJ-BmpPf.js" as="script"><link rel="prefetch" href="/assets/xtls.html-iaYVPZY0.js" as="script"><link rel="prefetch" href="/assets/dokodemo.html-C5vmkPBq.js" as="script"><link rel="prefetch" href="/assets/http.html-DBhYKb4b.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-PclusGtB.js" as="script"><link rel="prefetch" href="/assets/socks.html-B6uZ8chi.js" as="script"><link rel="prefetch" href="/assets/trojan.html-D9oCy5Iy.js" as="script"><link rel="prefetch" href="/assets/vless.html-qLlQAPIk.js" as="script"><link rel="prefetch" href="/assets/vmess.html-Do2jrIfA.js" as="script"><link rel="prefetch" href="/assets/blackhole.html-lCd9jYBh.js" as="script"><link rel="prefetch" href="/assets/dns.html-DAwpKjSS.js" as="script"><link rel="prefetch" href="/assets/freedom.html-C6nYJhEB.js" as="script"><link rel="prefetch" href="/assets/http.html-CBAA6_fR.js" as="script"><link rel="prefetch" href="/assets/loopback.html-DhNvSwfK.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-BTEUyYlF.js" as="script"><link rel="prefetch" href="/assets/socks.html-CE6hHX20.js" as="script"><link rel="prefetch" href="/assets/trojan.html-Cp4sYND9.js" as="script"><link rel="prefetch" href="/assets/vless.html-BrrMh51s.js" as="script"><link rel="prefetch" href="/assets/vmess.html-BjaGdjcm.js" as="script"><link rel="prefetch" href="/assets/wireguard.html-BhS0s0xA.js" as="script"><link rel="prefetch" href="/assets/domainsocket.html-NdZR4zGk.js" as="script"><link rel="prefetch" href="/assets/grpc.html-D19wz9zu.js" as="script"><link rel="prefetch" href="/assets/h2.html-Co42J3uN.js" as="script"><link rel="prefetch" href="/assets/httpupgrade.html-D9Epbj1C.js" as="script"><link rel="prefetch" href="/assets/quic.html-BbnRvY4h.js" as="script"><link rel="prefetch" href="/assets/splithttp.html-CqqiDRME.js" as="script"><link rel="prefetch" href="/assets/tcp.html-D-FjrqmO.js" as="script"><link rel="prefetch" href="/assets/websocket.html-BUFXx6rK.js" as="script"><link rel="prefetch" href="/assets/compile.html-Cc9xdcYM.js" as="script"><link rel="prefetch" href="/assets/design.html-BYqLnTaE.js" as="script"><link rel="prefetch" href="/assets/guide.html-B7sbNB1P.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-Dq8yLT9S.js" as="script"><link rel="prefetch" href="/assets/muxcool.html-D6grsS3W.js" as="script"><link rel="prefetch" href="/assets/vless.html-Cfk7QC3b.js" as="script"><link rel="prefetch" href="/assets/vmess.html-C95kI_A3.js" as="script"><link rel="prefetch" href="/assets/index.html-olPjS-sM.js" as="script"><link rel="prefetch" href="/assets/ch01-preface.html-CCxxkwxD.js" as="script"><link rel="prefetch" href="/assets/ch02-preparation.html-ByGaw3I3.js" as="script"><link rel="prefetch" href="/assets/ch03-ssh.html-C-4rAfmW.js" as="script"><link rel="prefetch" href="/assets/ch04-security.html-BC1oQB4j.js" as="script"><link rel="prefetch" href="/assets/ch05-webpage.html-Blmk016Y.js" as="script"><link rel="prefetch" href="/assets/ch06-certificates.html-DdRphj8G.js" as="script"><link rel="prefetch" href="/assets/ch07-xray-server.html-Xf3GDeXS.js" as="script"><link rel="prefetch" href="/assets/ch08-xray-clients.html-DPH1Bc_i.js" as="script"><link rel="prefetch" href="/assets/ch09-appendix.html-PlQkTZCk.js" as="script"><link rel="prefetch" href="/assets/index.html-DyVky49U.js" as="script"><link rel="prefetch" href="/assets/fallbacks-lv1.html-D-m5AfMJ.js" as="script"><link rel="prefetch" href="/assets/fallbacks-with-sni.html-8IU9ot5S.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part1.html-CJ57P151.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part2.html-CUgbJD-5.js" as="script"><link rel="prefetch" href="/assets/work.html-CN-cGBJD.js" as="script"><link rel="prefetch" href="/assets/index.html-D7vfgC0D.js" as="script"><link rel="prefetch" href="/assets/iptables_gid.html-hZ1RqlyQ.js" as="script"><link rel="prefetch" href="/assets/nginx_or_haproxy_tls_tunnel.html-CmyYtRok.js" as="script"><link rel="prefetch" href="/assets/redirect.html-DD4131D3.js" as="script"><link rel="prefetch" href="/assets/tproxy.html-BEe03b84.js" as="script"><link rel="prefetch" href="/assets/tproxy_ipv4_and_ipv6.html-Bi1Zztau.js" as="script"><link rel="prefetch" href="/assets/traffic_stats.html-Cl82UALU.js" as="script"><link rel="prefetch" href="/assets/warp.html-B0x1nvxf.js" as="script"><link rel="prefetch" href="/assets/transparent_proxy.html-DH9DRW1x.js" as="script"><link rel="prefetch" href="/assets/404.html-CnfmQthm.js" as="script"><link rel="prefetch" href="/assets/index.html-CEgGuyMx.js" as="script"><link rel="prefetch" href="/assets/news.html-QrB5djwI.js" as="script"><link rel="prefetch" href="/assets/index.html-DV4PIKF_.js" as="script"><link rel="prefetch" href="/assets/index.html-Dsp-isch.js" as="script"><link rel="prefetch" href="/assets/api.html-CDjs7S2E.js" as="script"><link rel="prefetch" href="/assets/dns.html-IdCDvWZC.js" as="script"><link rel="prefetch" href="/assets/fakedns.html-D9qoHX-O.js" as="script"><link rel="prefetch" href="/assets/inbound.html-DKdaW_An.js" as="script"><link rel="prefetch" href="/assets/log.html-BNt9GQuw.js" as="script"><link rel="prefetch" href="/assets/metrics.html-BX4SXyWF.js" as="script"><link rel="prefetch" href="/assets/observatory.html-bgsEzEVU.js" as="script"><link rel="prefetch" href="/assets/outbound.html-Bn1kZkBN.js" as="script"><link rel="prefetch" href="/assets/policy.html-CZm6uFjc.js" as="script"><link rel="prefetch" href="/assets/reverse.html-CbkKheif.js" as="script"><link rel="prefetch" href="/assets/routing.html-CBcVhE8u.js" as="script"><link rel="prefetch" href="/assets/stats.html-BX972ILG.js" as="script"><link rel="prefetch" href="/assets/transport.html-COyOeEST.js" as="script"><link rel="prefetch" href="/assets/index.html-D3W9VCSw.js" as="script"><link rel="prefetch" href="/assets/command.html-DSDM15BH.js" as="script"><link rel="prefetch" href="/assets/config.html-DViXkCY2.js" as="script"><link rel="prefetch" href="/assets/document.html-7GH67FwT.js" as="script"><link rel="prefetch" href="/assets/install.html-BeZXhddn.js" as="script"><link rel="prefetch" href="/assets/index.html-DPexYUN-.js" as="script"><link rel="prefetch" href="/assets/compile.html-1oRusKBk.js" as="script"><link rel="prefetch" href="/assets/design.html-DrTbmIum.js" as="script"><link rel="prefetch" href="/assets/guide.html-BEbRONAy.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-B0BHnlgJ.js" as="script"><link rel="prefetch" href="/assets/muxcool.html-BnvXvufr.js" as="script"><link rel="prefetch" href="/assets/vless.html-C5GzTWGW.js" as="script"><link rel="prefetch" href="/assets/vmess.html-9eJObOhy.js" as="script"><link rel="prefetch" href="/assets/browser_dialer.html-vfeebl43.js" as="script"><link rel="prefetch" href="/assets/env.html-BSlS-Bi6.js" as="script"><link rel="prefetch" href="/assets/fallback.html-Dv9vZkn8.js" as="script"><link rel="prefetch" href="/assets/multiple.html-BDC56S6n.js" as="script"><link rel="prefetch" href="/assets/xtls.html-DXuQw0ir.js" as="script"><link rel="prefetch" href="/assets/dokodemo.html-9Gi1aeDb.js" as="script"><link rel="prefetch" href="/assets/http.html-B-edK69X.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-Drl_0qOr.js" as="script"><link rel="prefetch" href="/assets/socks.html-Cpjo8tnm.js" as="script"><link rel="prefetch" href="/assets/trojan.html-aZjSOdHT.js" as="script"><link rel="prefetch" href="/assets/vless.html-BdCEKzqr.js" as="script"><link rel="prefetch" href="/assets/vmess.html-ZbetQoWg.js" as="script"><link rel="prefetch" href="/assets/blackhole.html-BnuFJkkS.js" as="script"><link rel="prefetch" href="/assets/dns.html-B4vUslc9.js" as="script"><link rel="prefetch" href="/assets/freedom.html-CISxfyG7.js" as="script"><link rel="prefetch" href="/assets/http.html-v1f61jLW.js" as="script"><link rel="prefetch" href="/assets/loopback.html-DKvwcsI9.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-B5qqn-Cq.js" as="script"><link rel="prefetch" href="/assets/socks.html-DxOFaF4n.js" as="script"><link rel="prefetch" href="/assets/trojan.html-CjSEbcnt.js" as="script"><link rel="prefetch" href="/assets/vless.html-B1vJeIZl.js" as="script"><link rel="prefetch" href="/assets/vmess.html-fKQ5wo9c.js" as="script"><link rel="prefetch" href="/assets/wireguard.html-CaZjkJJr.js" as="script"><link rel="prefetch" href="/assets/domainsocket.html-BzyMMRJA.js" as="script"><link rel="prefetch" href="/assets/grpc.html-DoAqTa0j.js" as="script"><link rel="prefetch" href="/assets/h2.html-eymvjRjV.js" as="script"><link rel="prefetch" href="/assets/httpupgrade.html--ZB90m6U.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-DKq5fxCj.js" as="script"><link rel="prefetch" href="/assets/quic.html-Ce5tiW9k.js" as="script"><link rel="prefetch" href="/assets/splithttp.html-CSeWSC6q.js" as="script"><link rel="prefetch" href="/assets/tcp.html-D-GEFomo.js" as="script"><link rel="prefetch" href="/assets/websocket.html-RQWpj88a.js" as="script"><link rel="prefetch" href="/assets/index.html-gROSO4Rv.js" as="script"><link rel="prefetch" href="/assets/ch01-preface.html-Jjd5B6Ky.js" as="script"><link rel="prefetch" href="/assets/ch02-preparation.html-CsQ3y_Nh.js" as="script"><link rel="prefetch" href="/assets/ch03-ssh.html-CziqhKBF.js" as="script"><link rel="prefetch" href="/assets/ch04-security.html-CknmFFnO.js" as="script"><link rel="prefetch" href="/assets/ch05-webpage.html-C1D935uM.js" as="script"><link rel="prefetch" href="/assets/ch06-certificates.html-EVscbN9k.js" as="script"><link rel="prefetch" href="/assets/ch07-xray-server.html-DetxXJwy.js" as="script"><link rel="prefetch" href="/assets/ch08-xray-clients.html-nMN7sQrs.js" as="script"><link rel="prefetch" href="/assets/ch09-appendix.html-BsxUtEQE.js" as="script"><link rel="prefetch" href="/assets/index.html-uds4-OHc.js" as="script"><link rel="prefetch" href="/assets/fallbacks-lv1.html-8WTgGrlU.js" as="script"><link rel="prefetch" href="/assets/fallbacks-with-sni.html-CsDDjwyp.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part1.html-DqM9fOLp.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part2.html-CaSHrPCz.js" as="script"><link rel="prefetch" href="/assets/work.html-B28CK2LB.js" as="script"><link rel="prefetch" href="/assets/index.html-CWbiRdCs.js" as="script"><link rel="prefetch" href="/assets/iptables_gid.html-yF2GCP8X.js" as="script"><link rel="prefetch" href="/assets/nginx_or_haproxy_tls_tunnel.html-BdKtxHD0.js" as="script"><link rel="prefetch" href="/assets/redirect.html-B6HRwAWY.js" as="script"><link rel="prefetch" href="/assets/tproxy.html-oMsNLfvw.js" as="script"><link rel="prefetch" href="/assets/tproxy_ipv4_and_ipv6.html-bUjSSvZz.js" as="script"><link rel="prefetch" href="/assets/traffic_stats.html-PPui9ba0.js" as="script"><link rel="prefetch" href="/assets/warp.html-Dkp_oj2Z.js" as="script"><link rel="prefetch" href="/assets/news.html-C0qjslnV.js" as="script"><link rel="prefetch" href="/assets/index.html-BSXrVI-C.js" as="script"><link rel="prefetch" href="/assets/api.html-DpTXQzSh.js" as="script"><link rel="prefetch" href="/assets/dns.html-BhIb193-.js" as="script"><link rel="prefetch" href="/assets/fakedns.html-DeqmIPpU.js" as="script"><link rel="prefetch" href="/assets/inbound.html-Ce__zoOR.js" as="script"><link rel="prefetch" href="/assets/log.html-CRy17aX2.js" as="script"><link rel="prefetch" href="/assets/metrics.html-CJ62LObt.js" as="script"><link rel="prefetch" href="/assets/outbound.html-BrtFxD8d.js" as="script"><link rel="prefetch" href="/assets/policy.html-CcNsto6n.js" as="script"><link rel="prefetch" href="/assets/reverse.html-BUzfJgXX.js" as="script"><link rel="prefetch" href="/assets/routing.html-CO0NEVDC.js" as="script"><link rel="prefetch" href="/assets/stats.html-BsnBgDJV.js" as="script"><link rel="prefetch" href="/assets/transport.html-C7FQD8c4.js" as="script"><link rel="prefetch" href="/assets/index.html-m84qxFI7.js" as="script"><link rel="prefetch" href="/assets/index.html-D18EMGqX.js" as="script"><link rel="prefetch" href="/assets/command.html-KPvxdlOW.js" as="script"><link rel="prefetch" href="/assets/config.html-CE-gh7QH.js" as="script"><link rel="prefetch" href="/assets/document.html-DNuAcMwp.js" as="script"><link rel="prefetch" href="/assets/install.html-B7zr5P_r.js" as="script"><link rel="prefetch" href="/assets/transparent_proxy.html-BKI8er0W.js" as="script"><link rel="prefetch" href="/assets/browser_dialer.html-DmlF94Nx.js" as="script"><link rel="prefetch" href="/assets/env.html-DslriHhM.js" as="script"><link rel="prefetch" href="/assets/fallback.html-D53NZO1K.js" as="script"><link rel="prefetch" href="/assets/multiple.html-6LlY69Xz.js" as="script"><link rel="prefetch" href="/assets/xtls.html-DItuKphH.js" as="script"><link rel="prefetch" href="/assets/dokodemo.html-NnPDqdEU.js" as="script"><link rel="prefetch" href="/assets/http.html-BrNGWihU.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-CFSq1Pbn.js" as="script"><link rel="prefetch" href="/assets/socks.html-4__FsMVc.js" as="script"><link rel="prefetch" href="/assets/trojan.html-D5WRTf5i.js" as="script"><link rel="prefetch" href="/assets/vless.html-2eB2XqCE.js" as="script"><link rel="prefetch" href="/assets/vmess.html-B-LsUPwx.js" as="script"><link rel="prefetch" href="/assets/blackhole.html-Dm3R2O0p.js" as="script"><link rel="prefetch" href="/assets/dns.html-DxoE1m5y.js" as="script"><link rel="prefetch" href="/assets/freedom.html-CqFOEzfX.js" as="script"><link rel="prefetch" href="/assets/http.html-DlRWRt3N.js" as="script"><link rel="prefetch" href="/assets/loopback.html-BpZ2B95Q.js" as="script"><link rel="prefetch" href="/assets/shadowsocks.html-CkNyp_6R.js" as="script"><link rel="prefetch" href="/assets/socks.html-6bFHCECC.js" as="script"><link rel="prefetch" href="/assets/trojan.html-Das4k8TD.js" as="script"><link rel="prefetch" href="/assets/vless.html-CG62P7wi.js" as="script"><link rel="prefetch" href="/assets/vmess.html-Dq5RmNl6.js" as="script"><link rel="prefetch" href="/assets/wireguard.html-Dt97nBxI.js" as="script"><link rel="prefetch" href="/assets/domainsocket.html-DQZqFwWD.js" as="script"><link rel="prefetch" href="/assets/grpc.html-zBPHco2p.js" as="script"><link rel="prefetch" href="/assets/h2.html-CPS8pBvO.js" as="script"><link rel="prefetch" href="/assets/httpupgrade.html-CbC6WA7v.js" as="script"><link rel="prefetch" href="/assets/quic.html-TgYBNarb.js" as="script"><link rel="prefetch" href="/assets/splithttp.html-DsBvD8Bj.js" as="script"><link rel="prefetch" href="/assets/tcp.html-Ccpru6rm.js" as="script"><link rel="prefetch" href="/assets/websocket.html-D-vG6TWp.js" as="script"><link rel="prefetch" href="/assets/compile.html-Bkz7AjWy.js" as="script"><link rel="prefetch" href="/assets/design.html-D22xS01S.js" as="script"><link rel="prefetch" href="/assets/guide.html-VUpz5VW0.js" as="script"><link rel="prefetch" href="/assets/mkcp.html-CSrPpuXf.js" as="script"><link rel="prefetch" href="/assets/muxcool.html-CrFJWpJB.js" as="script"><link rel="prefetch" href="/assets/vless.html-CrPfKrmG.js" as="script"><link rel="prefetch" href="/assets/vmess.html-DXB_eFBA.js" as="script"><link rel="prefetch" href="/assets/index.html-BYVTOjjK.js" as="script"><link rel="prefetch" href="/assets/ch01-preface.html-BEkhMfQ5.js" as="script"><link rel="prefetch" href="/assets/ch02-preparation.html-tZ3YOjG6.js" as="script"><link rel="prefetch" href="/assets/ch03-ssh.html-CqgsbjCy.js" as="script"><link rel="prefetch" href="/assets/ch04-security.html-BQRxrLme.js" as="script"><link rel="prefetch" href="/assets/ch05-webpage.html-Bb2IXJG0.js" as="script"><link rel="prefetch" href="/assets/ch06-certificates.html-BxCkUnk0.js" as="script"><link rel="prefetch" href="/assets/ch07-xray-server.html-VLiqWxxn.js" as="script"><link rel="prefetch" href="/assets/ch08-xray-clients.html-BrNCXvel.js" as="script"><link rel="prefetch" href="/assets/ch09-appendix.html-C0fN7z98.js" as="script"><link rel="prefetch" href="/assets/index.html-DknU34gC.js" as="script"><link rel="prefetch" href="/assets/fallbacks-lv1.html-CuSuA669.js" as="script"><link rel="prefetch" href="/assets/fallbacks-with-sni.html-Ct59k0X5.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part1.html-et1n_UuA.js" as="script"><link rel="prefetch" href="/assets/routing-lv1-part2.html-BsqimNRF.js" as="script"><link rel="prefetch" href="/assets/work.html-C8pyiILy.js" as="script"><link rel="prefetch" href="/assets/index.html-Dd6zvHL6.js" as="script"><link rel="prefetch" href="/assets/iptables_gid.html-B_kUjGmk.js" as="script"><link rel="prefetch" href="/assets/nginx_or_haproxy_tls_tunnel.html-CeA2PBH0.js" as="script"><link rel="prefetch" href="/assets/redirect.html-tsF1g4hu.js" as="script"><link rel="prefetch" href="/assets/tproxy.html-CL6fyioq.js" as="script"><link rel="prefetch" href="/assets/tproxy_ipv4_and_ipv6.html-DehiHnff.js" as="script"><link rel="prefetch" href="/assets/traffic_stats.html-DR2EG434.js" as="script"><link rel="prefetch" href="/assets/warp.html-CL3VaLKJ.js" as="script"><link rel="prefetch" href="/assets/transparent_proxy.html-c_1RSH5h.js" as="script"><link rel="prefetch" href="/assets/404.html-UPIT7gzX.js" as="script"><link rel="prefetch" href="/assets/Mermaid-DKnPvGeC.js" as="script"><link rel="prefetch" href="/assets/Tab-fgIw1TMu.js" as="script"><link rel="prefetch" href="/assets/Tabs-CD0qkbm4.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle side bar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/en/" class=""><!----><span class="site-name" aria-hidden="true">Project X</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide" aria-label="site navigation"><!--[--><div class="navbar-item"><a href="/en" class="router-link-active" aria-label="Homepage"><!--[--><!--]--> Homepage <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/about/news.md" class="" aria-label="Website History"><!--[--><!--]--> Website History <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/config/" class="router-link-active" aria-label="Config Reference"><!--[--><!--]--> Config Reference <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/development/" class="" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/document/" class="" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Multiple language"><span class="title">Multiple language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Multiple language"><span class="title">Multiple language</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/config/transports/mkcp.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/en/config/transports/mkcp.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English (WIP)"><!--[--><!--]--> English (WIP) <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/xtls/xray-core" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items" aria-label="site navigation"><!--[--><div class="navbar-item"><a href="/en" class="router-link-active" aria-label="Homepage"><!--[--><!--]--> Homepage <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/about/news.md" class="" aria-label="Website History"><!--[--><!--]--> Website History <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/config/" class="router-link-active" aria-label="Config Reference"><!--[--><!--]--> Config Reference <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/development/" class="" aria-label="Developer Guide"><!--[--><!--]--> Developer Guide <!--[--><!--]--></a></div><div class="navbar-item"><a href="/en/document/" class="" aria-label="Quick Start"><!--[--><!--]--> Quick Start <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Multiple language"><span class="title">Multiple language</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Multiple language"><span class="title">Multiple language</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/config/transports/mkcp.html" class="" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a aria-current="page" href="/en/config/transports/mkcp.html" class="router-link-active router-link-exact-active router-link-active" aria-label="English (WIP)"><!--[--><!--]--> English (WIP) <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/xtls/xray-core" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">feature <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/en/config/features/xtls.html" class="sidebar-item" aria-label="Deep analysis of XTLS"><!--[--><!--]--> Deep analysis of XTLS <!--[--><!--]--></a><!----></li><li><a href="/en/config/features/fallback.html" class="sidebar-item" aria-label="Fallback"><!--[--><!--]--> Fallback <!--[--><!--]--></a><!----></li><li><a href="/en/config/features/browser_dialer.html" class="sidebar-item" aria-label="Browser Dialer"><!--[--><!--]--> Browser Dialer <!--[--><!--]--></a><!----></li><li><a href="/en/config/features/env.html" class="sidebar-item" aria-label="Environment Variables"><!--[--><!--]--> Environment Variables <!--[--><!--]--></a><!----></li><li><a href="/en/config/features/multiple.html" class="sidebar-item" aria-label="Multi-file configuration"><!--[--><!--]--> Multi-file configuration <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">config <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/en/config/" class="router-link-active sidebar-item" aria-label="Configurations"><!--[--><!--]--> Configurations <!--[--><!--]--></a><!----></li><li><a href="/en/config/log.html" class="sidebar-item" aria-label="Log Configuration"><!--[--><!--]--> Log Configuration <!--[--><!--]--></a><!----></li><li><a href="/en/config/api.html" class="sidebar-item" aria-label="API Interface"><!--[--><!--]--> API Interface <!--[--><!--]--></a><!----></li><li><a href="/en/config/dns.html" class="sidebar-item" aria-label="Built-in DNS Server"><!--[--><!--]--> Built-in DNS Server <!--[--><!--]--></a><!----></li><li><a href="/en/config/fakedns.html" class="sidebar-item" aria-label="FakeDNS"><!--[--><!--]--> FakeDNS <!--[--><!--]--></a><!----></li><li><a href="/en/config/inbound.html" class="sidebar-item" aria-label="Inbound Proxy"><!--[--><!--]--> Inbound Proxy <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbound.html" class="sidebar-item" aria-label="Outbound Proxies"><!--[--><!--]--> Outbound Proxies <!--[--><!--]--></a><!----></li><li><a href="/en/config/policy.html" class="sidebar-item" aria-label="Local Policy"><!--[--><!--]--> Local Policy <!--[--><!--]--></a><!----></li><li><a href="/en/config/reverse.html" class="sidebar-item" aria-label="Reverse Proxy"><!--[--><!--]--> Reverse Proxy <!--[--><!--]--></a><!----></li><li><a href="/en/config/routing.html" class="sidebar-item" aria-label="Routing"><!--[--><!--]--> Routing <!--[--><!--]--></a><!----></li><li><a href="/en/config/stats.html" class="sidebar-item" aria-label="Traffic Statistics"><!--[--><!--]--> Traffic Statistics <!--[--><!--]--></a><!----></li><li><a href="/en/config/transport.html" class="sidebar-item" aria-label="Transport"><!--[--><!--]--> Transport <!--[--><!--]--></a><!----></li><li><a href="/en/config/metrics.html" class="sidebar-item" aria-label="Metrics"><!--[--><!--]--> Metrics <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">inbound <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/en/config/inbounds/dokodemo.html" class="sidebar-item" aria-label="Dokodemo-Door"><!--[--><!--]--> Dokodemo-Door <!--[--><!--]--></a><!----></li><li><a href="/en/config/inbounds/http.html" class="sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><li><a href="/en/config/inbounds/shadowsocks.html" class="sidebar-item" aria-label="Shadowsocks"><!--[--><!--]--> Shadowsocks <!--[--><!--]--></a><!----></li><li><a href="/en/config/inbounds/socks.html" class="sidebar-item" aria-label="SOCKS"><!--[--><!--]--> SOCKS <!--[--><!--]--></a><!----></li><li><a href="/en/config/inbounds/trojan.html" class="sidebar-item" aria-label="Trojan"><!--[--><!--]--> Trojan <!--[--><!--]--></a><!----></li><li><a href="/en/config/inbounds/vless.html" class="sidebar-item" aria-label="VLESS"><!--[--><!--]--> VLESS <!--[--><!--]--></a><!----></li><li><a href="/en/config/inbounds/vmess.html" class="sidebar-item" aria-label="VMess"><!--[--><!--]--> VMess <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading">outbound <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/en/config/outbounds/blackhole.html" class="sidebar-item" aria-label="Blackhole"><!--[--><!--]--> Blackhole <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbounds/dns.html" class="sidebar-item" aria-label="DNS"><!--[--><!--]--> DNS <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbounds/freedom.html" class="sidebar-item" aria-label="Freedom"><!--[--><!--]--> Freedom <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbounds/http.html" class="sidebar-item" aria-label="HTTP"><!--[--><!--]--> HTTP <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbounds/loopback.html" class="sidebar-item" aria-label="Loopback"><!--[--><!--]--> Loopback <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbounds/shadowsocks.html" class="sidebar-item" aria-label="Shadowsocks"><!--[--><!--]--> Shadowsocks <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbounds/socks.html" class="sidebar-item" aria-label="Socks"><!--[--><!--]--> Socks <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbounds/trojan.html" class="sidebar-item" aria-label="Trojan"><!--[--><!--]--> Trojan <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbounds/vless.html" class="sidebar-item" aria-label="VLESS"><!--[--><!--]--> VLESS <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbounds/vmess.html" class="sidebar-item" aria-label="VMess"><!--[--><!--]--> VMess <!--[--><!--]--></a><!----></li><li><a href="/en/config/outbounds/wireguard.html" class="sidebar-item" aria-label="Wireguard"><!--[--><!--]--> Wireguard <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">transport <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/en/config/transports/domainsocket.html" class="sidebar-item" aria-label="Domain Socket"><!--[--><!--]--> Domain Socket <!--[--><!--]--></a><!----></li><li><a href="/en/config/transports/grpc.html" class="sidebar-item" aria-label="gRPC"><!--[--><!--]--> gRPC <!--[--><!--]--></a><!----></li><li><a href="/en/config/transports/h2.html" class="sidebar-item" aria-label="HTTP/2"><!--[--><!--]--> HTTP/2 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/config/transports/mkcp.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="mKCP"><!--[--><!--]--> mKCP <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/en/config/transports/mkcp.html#kcpobject" class="router-link-active router-link-exact-active sidebar-item" aria-label="KcpObject"><!--[--><!--]--> KcpObject <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/en/config/transports/mkcp.html#headerobject" class="router-link-active router-link-exact-active sidebar-item" aria-label="HeaderObject"><!--[--><!--]--> HeaderObject <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/en/config/transports/mkcp.html#special-thanks" class="router-link-active router-link-exact-active sidebar-item" aria-label="Special Thanks"><!--[--><!--]--> Special Thanks <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/config/transports/mkcp.html#improvements-to-the-kcp-protocol" class="router-link-active router-link-exact-active sidebar-item" aria-label="Improvements to the KCP protocol"><!--[--><!--]--> Improvements to the KCP protocol <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/en/config/transports/mkcp.html#smaller-protocol-header" class="router-link-active router-link-exact-active sidebar-item" aria-label="smaller protocol header"><!--[--><!--]--> smaller protocol header <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/config/transports/mkcp.html#ack-packet-retransmission" class="router-link-active router-link-exact-active sidebar-item" aria-label="ACK packet retransmission"><!--[--><!--]--> ACK packet retransmission <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/en/config/transports/mkcp.html#connection-state-control" class="router-link-active router-link-exact-active sidebar-item" aria-label="Connection state control"><!--[--><!--]--> Connection state control <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><li><a href="/en/config/transports/quic.html" class="sidebar-item" aria-label="QUIC"><!--[--><!--]--> QUIC <!--[--><!--]--></a><!----></li><li><a href="/en/config/transports/tcp.html" class="sidebar-item" aria-label="TCP"><!--[--><!--]--> TCP <!--[--><!--]--></a><!----></li><li><a href="/en/config/transports/websocket.html" class="sidebar-item" aria-label="WebSocket"><!--[--><!--]--> WebSocket <!--[--><!--]--></a><!----></li><li><a href="/en/config/transports/httpupgrade.html" class="sidebar-item" aria-label="HTTPUpgrade"><!--[--><!--]--> HTTPUpgrade <!--[--><!--]--></a><!----></li><li><a href="/en/config/transports/splithttp.html" class="sidebar-item" aria-label="SplitHTTP"><!--[--><!--]--> SplitHTTP <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="mkcp" tabindex="-1"><a class="header-anchor" href="#mkcp"><span>mKCP</span></a></h1><p>mKCP uses UDP to emulate TCP connections.</p><p>mKCP sacrifices bandwidth to reduce latency. To transmit the same content, mKCP generally consumes more data than TCP.</p><div class="custom-container tip"><p class="custom-container-title">Tip</p><p>Make sure the firewall on the host is configured correctly.</p></div><h2 id="kcpobject" tabindex="-1"><a class="header-anchor" href="#kcpobject"><span>KcpObject</span></a></h2><p><code>KcpObject</code> corresponds to the <code>kcpSettings</code> in the <a href="/en/config/transport.html" class="">Transport Protocol</a>,</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;mtu&quot;</span><span class="token operator">:</span> <span class="token number">1350</span><span class="token punctuation">,</span>
  <span class="token property">&quot;tti&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token property">&quot;uplinkCapacity&quot;</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
  <span class="token property">&quot;downlinkCapacity&quot;</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token property">&quot;congestion&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token property">&quot;readBufferSize&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;writeBufferSize&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">&quot;header&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;seed&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Password&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>mtu</code>: number</p></blockquote><p>Maximum transmission unit. It indicates the maxium bytes that an UDP packet can carry. Recommended value is between <code>576</code> and <code>1460</code></p><p>The default value is <code>1350</code></p><blockquote><p><code>tti</code>: number</p></blockquote><p>Transmission time interval, measured in milliseconds (ms), determines how often mKCP sends data. Please choose a value between <code>10</code> and <code>100</code></p><p>The default value is <code>50</code></p><blockquote><p><code>uplinkCapacity</code>: number</p></blockquote><p>Uplink capacity refers to the maximum bandwidth used by the host to send data, measured in MB/s (note: Byte, not bit). It can be set to 0, indicating a very small bandwidth.</p><p>The default value is <code>5</code></p><blockquote><p><code>downlinkCapacity</code>: number</p></blockquote><p>Downlink capacity refers to the maximum bandwidth used by the host to receive data, measured in MB/s (note: Byte, not bit). It can be set to 0, indicating a very small bandwidth.</p><p>The default value is <code>20</code></p><div class="custom-container tip"><p class="custom-container-title">Tip</p><p><code>uplinkCapacity</code> and <code>downlinkCapacity</code> determine the transmission speed of mKCP. For example, when a client sends data, the client&#39;s <code>uplinkCapacity</code> specifies the speed of sending data, while the server&#39;s <code>downlinkCapacity</code> specifies the speed of receiving data. The value used is the smaller of the two.</p><p>It is recommended to set <code>downlinkCapacity</code> to a larger value, such as <code>100</code>, and set <code>uplinkCapacity</code> to the actual network speed. If the speed is insufficient, gradually increase the value of <code>uplinkCapacity</code> until it is about twice the bandwidth.</p></div><blockquote><p><code>congestion</code>: true | false</p></blockquote><p>Whether or not to enable congestion control. When congestion control is enabled, Xray will detect network quality. It will send less packets when packet loss is severe, or more packets when network is not fully filled.</p><p>The default value is <code>false</code></p><blockquote><p><code>readBufferSize</code>: number</p></blockquote><p>The read buffer size for a single connection, measured in <code>MB</code></p><p>The default value is <code>2</code></p><blockquote><p><code>writeBufferSize</code>: number</p></blockquote><p>The write buffer size for a single connection, measured in <code>MB</code></p><p>The default value is <code>2</code></p><div class="custom-container tip"><p class="custom-container-title">Tip</p><p><code>readBufferSize</code> and <code>writeBufferSize</code> specify the memory size used by a single connection. When high-speed transmissions are required, specifying larger values for <code>readBufferSize</code> and <code>writeBufferSize</code> can improve speed to some extent, but it will also consume more memory.</p><p>When the network speed is no more than <code>20 MB/s</code>, the default value of <code>1MB</code> is sufficient; after exceeding this limit, you can increase the values of <code>readBufferSize</code> and <code>writeBufferSize</code> appropriately and then manually balance the relationship between speed and memory.</p></div><blockquote><p><code>header</code>: <a href="#headerobject">HeaderObject</a></p></blockquote><p>Configuration for packet header obfuscation.</p><blockquote><p><code>seed</code>: string</p></blockquote><p>An optional obfuscation seed is used to obfuscate traffic data using the <code>AES-128-GCM</code> algorithm. The client and server need to use the same seed.</p><p>This obfuscation mechanism cannot ensure the security of the content, but it may be able to resist some blocking.</p><div class="custom-container tip"><p class="custom-container-title">NOTE</p><p>Currently, in the testing environment, enabling this setting has not resulted in the original unobfuscated version being blocked by ports.</p></div><h3 id="headerobject" tabindex="-1"><a class="header-anchor" href="#headerobject"><span>HeaderObject</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>type</code>: string</p></blockquote><p>Type of obfuscation. Corresponding inbound and outbound must have the same value. Choices are:</p><ul><li><code>&quot;none&quot;</code>：Default value. No obfuscation is used.</li><li><code>&quot;srtp&quot;</code>：Obfuscated as SRTP traffic. It may be recognized as video calls such as Facetime.</li><li><code>&quot;utp&quot;</code>：Obfuscated as uTP traffic. It may be recognized as Bittorrent traffic.</li><li><code>&quot;wechat-video&quot;</code>：Obfuscated to WeChat traffic.</li><li><code>&quot;dtls&quot;</code>：Obfuscated as DTLS 1.2 packets.</li><li><code>&quot;wireguard&quot;</code>：Obfuscated as WireGuard packets. (NOT true WireGuard protocol)</li></ul><h2 id="special-thanks" tabindex="-1"><a class="header-anchor" href="#special-thanks"><span>Special Thanks</span></a></h2><ul><li><a href="https://github.com/skywind3000" target="_blank" rel="noopener noreferrer">@skywind3000<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a> Credit for inventing and implementing the original KCP protocol in C.</li><li><a href="https://github.com/xtaci" target="_blank" rel="noopener noreferrer">@xtaci<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a> Credit for re-implementing KCP protocol in Go.</li><li><a href="https://github.com/xiaokangwang" target="_blank" rel="noopener noreferrer">@xiaokangwang<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span></a> Credit for testing the integration of KCP with Xray and submitting the initial PR.</li></ul><h2 id="improvements-to-the-kcp-protocol" tabindex="-1"><a class="header-anchor" href="#improvements-to-the-kcp-protocol"><span>Improvements to the KCP protocol</span></a></h2><h3 id="smaller-protocol-header" tabindex="-1"><a class="header-anchor" href="#smaller-protocol-header"><span>smaller protocol header</span></a></h3><p>The original KCP protocol uses a fixed header of 24 bytes, while mKCP modifies it to 18 bytes for data packets and 16 bytes for acknowledgement (ACK) packets. A smaller header helps evade feature detection and speeds up transmission.</p><p>In addition, the original KCP can only confirm that one packet has been received with a single ACK packet. This means that when KCP needs to confirm that 100 packets have been received, it will send out 2400 bytes of data (24 x 100), including a large amount of repeated header information that wastes bandwidth. mKCP compresses multiple ACK packets, so 100 ACK packets only require 418 bytes (16 + 2 + 100 x 4), which is equivalent to one-sixth of the original KCP.</p><h3 id="ack-packet-retransmission" tabindex="-1"><a class="header-anchor" href="#ack-packet-retransmission"><span>ACK packet retransmission</span></a></h3><p>In the original KCP protocol, an ACK packet is only sent once. If an ACK packet is lost, it will cause unnecessary bandwidth waste due to data retransmission. In contrast, mKCP retransmits ACK packets at a certain frequency until they are confirmed by the sender. The size of a single ACK packet is 22 bytes, much smaller than the data packets which are over 1000 bytes. Therefore, the cost of retransmitting ACK packets is much lower.</p><h3 id="connection-state-control" tabindex="-1"><a class="header-anchor" href="#connection-state-control"><span>Connection state control</span></a></h3><p>mKCP can effectively initiate and close connections. When the remote host initiates disconnection, the connection will be released within two seconds. When the remote host lost connection, the connection will be released within a maximum of 30 seconds.</p><p>The original KCP does not support this scenario.</p></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/xtls/Xray-docs-next/edit/main/docs/en/config/transports/mkcp.md" rel="noopener noreferrer" target="_blank" aria-label="Help us improve this page on GitHub！"><!--[--><!--]--> Help us improve this page on GitHub！ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new tag</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 34882095+picklefan@users.noreply.github.com">picklefan</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 82594500+hmol233@users.noreply.github.com">hmol233</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav" aria-label="page navigation"><p class="inner"><span class="prev"><a href="/en/config/transports/h2.html" class="" aria-label="HTTP/2"><!--[--><!--]--> HTTP/2 <!--[--><!--]--></a></span><span class="next"><a href="/en/config/transports/quic.html" class="" aria-label="QUIC"><!--[--><!--]--> QUIC <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-Br3Hgc3R.js" defer></script>
  </body>
</html>
